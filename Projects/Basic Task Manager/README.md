The provided code excerpt from task_manager.py handles different functionalities related to task management based on user input. The first part of the code deals with adding a new task. It prompts the user to input the task title, description, and due date. The `strip()` method is used to remove any leading or trailing whitespace from the input. The due date prompt includes ANSI escape codes to display the date format in yellow text for better user guidance.

Once the user inputs the required details, the code opens a file named tasks.txt in append mode (`"a+"`) with UTF-8 encoding. It writes the task details to the file, including the task user, title, description, the current date (`format_today`), and the due date, followed by a status of "No" indicating the task is not yet completed. After successfully writing the task to the file, a success message is printed in green text using ANSI escape codes.

The next section of the code handles the "View all tasks" functionality, triggered when the user selects the "va" option from the menu. It prints a horizontal line for visual separation and then iterates over all tasks retrieved by the `get_tasks_data()` function, displaying each task using the `display_task()` function.

The final part of the code deals with the "View my tasks" functionality, activated when the user selects the "vm" option. It filters tasks to include only those assigned to the current user (`username`). If there are any tasks for the user, it prints a horizontal line for separation and iterates over the user's tasks, displaying each one using the `display_task()` function. This ensures that users can view and manage only their own tasks.
